<div 
    class="listado-usuarios" 
    *ngIf="this.datosUsuarios">
    
    <!-- Botones
         Cuando sale? Cuando hay algun seleccionado
                Y cuando pichan? En que se convierte? CONFIRMAR | CANCELAR
                    v
                    v                       Siempre que no estÃ©n ya todos seleccionados
                    v                       v
                [BORRAR SELECCIONADOS] [SELECCIONAR TODOS] [DESELECCIONAR TODOS]

     -->
     <div class="botones">
        <accion-confirmable *ngIf="this.estado === this.Estados.CON_SELECCIONADOS"
        actionId="borrar-seleccionados"
        (onAccionConfirmada) = "this.borrarUsuariosSeleccionados()"
        mensajeAccion = "Borrar seleccionados"
        mensajeConfirmacion = "Confirmar"
        mensajeCancelacion = "Cancelar"/>
     </div>

     <hr/>
     <!-- El listado de usuarios -->
     <div *ngFor="let usuario of this.datosUsuarios">
        <usuario
            [id]="usuario.id"
            [datosUsuario]="usuario"

            [editable]="this.esEditableElUsuario(usuario.id)"
            [borrable]="this.esBorrableElUsuario(usuario.id)"
            [seleccionable]="this.sonSeleccionablesLosUsuarios()"

            [seleccionado]="this.estaElUsuarioSeleccionado(usuario.id)"

            (onModificacionSolicitada)="this.usuarioModificacionSolicitada($event)"
            (onModificacionConfirmada)="this.usuarioModificacionConfirmada($event)"
            (onModificacionCancelada)="this.usuarioModificacionCancelada($event)"
            (onBorradoSolicitado)="this.usuarioBorradoSolicitado($event)"
            (onBorradoConfirmado)="this.usuarioBorradoConfirmado($event)"
            (onBorradoCancelado)="this.usuarioBorradoCancelado($event)"
            (onSeleccionado)="this.nuevoUsuarioSeleccionado($event)"
            (onDeseleccionado)="this.nuevoUsuarioDeseleccionado($event)"

        ></usuario>
        <hr/>
     </div>

</div>

<div class="listado-usuarios" *ngIf="this.errorMessage">
    Ups !!! {{ this.errorMessage }}
</div>

<div class="listado-usuarios"  *ngIf="!this.errorMessage && !this.datosUsuarios" >Esperando los datos de los usuarios</div>
